# Generated by Django 5.2.6 on 2025-09-22 13:24

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('core', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='CompositeSample',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True, verbose_name='UUID')),
                ('date', models.DateField(verbose_name='Data')),
                ('collection_time', models.DateTimeField(verbose_name='Horário da Coleta')),
                ('quantity_produced', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Quantidade Produzida (kg)')),
                ('status', models.CharField(choices=[('APPROVED', 'Aprovado'), ('REJECTED', 'Reprovado')], max_length=20, verbose_name='Status Final')),
                ('observations', models.TextField(blank=True, verbose_name='Observações')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('operator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='Operador')),
                ('production_line', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.productionline', verbose_name='Linha de Produção')),
                ('shift', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.shift', verbose_name='Turno')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
            ],
            options={
                'verbose_name': 'Amostra Composta',
                'verbose_name_plural': 'Amostras Compostas',
                'ordering': ['-date', '-collection_time'],
            },
        ),
        migrations.CreateModel(
            name='ChemicalAnalysis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('type', models.CharField(choices=[('SPORADIC', 'Esporádica'), ('MONTHLY', 'Mensal')], max_length=20, verbose_name='Tipo')),
                ('date', models.DateField(verbose_name='Data da Análise')),
                ('batch_number', models.CharField(max_length=50, verbose_name='Número do Lote')),
                ('report_number', models.CharField(blank=True, max_length=50, verbose_name='Número do Laudo')),
                ('laboratory', models.CharField(blank=True, max_length=100, verbose_name='Laboratório')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
                ('composite_sample', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='quality_control.compositesample', verbose_name='Amostra Composta Relacionada')),
            ],
            options={
                'verbose_name': 'Análise Química',
                'verbose_name_plural': 'Análises Químicas',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='Nome')),
                ('code', models.CharField(max_length=20, unique=True, verbose_name='Código')),
                ('description', models.TextField(blank=True, verbose_name='Descrição')),
                ('is_active', models.BooleanField(default=True, verbose_name='Ativo')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
            ],
            options={
                'verbose_name': 'Produto',
                'verbose_name_plural': 'Produtos',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='compositesample',
            name='product',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='quality_control.product', verbose_name='Produto'),
        ),
        migrations.CreateModel(
            name='Property',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('identifier', models.CharField(max_length=50, unique=True, verbose_name='Identificador')),
                ('name', models.CharField(max_length=100, verbose_name='Nome de Exibição')),
                ('unit', models.CharField(blank=True, max_length=20, verbose_name='Unidade de Medida')),
                ('category', models.CharField(choices=[('FISICA', 'Física'), ('QUIMICA', 'Química')], max_length=20, verbose_name='Categoria')),
                ('test_method', models.CharField(blank=True, max_length=100, verbose_name='Método de Ensaio')),
                ('data_type', models.CharField(choices=[('DECIMAL', 'Decimal'), ('INTEGER', 'Inteiro'), ('TEXT', 'Texto'), ('BOOLEAN', 'Sim/Não')], default='DECIMAL', max_length=20, verbose_name='Tipo de Dado')),
                ('description', models.TextField(blank=True, verbose_name='Descrição')),
                ('is_active', models.BooleanField(default=True, verbose_name='Ativo')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
            ],
            options={
                'verbose_name': 'Propriedade',
                'verbose_name_plural': 'Propriedades',
                'ordering': ['category', 'name'],
            },
        ),
        migrations.CreateModel(
            name='QualityReport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True, verbose_name='UUID')),
                ('report_number', models.CharField(max_length=50, unique=True, verbose_name='Número do Laudo')),
                ('date', models.DateField(verbose_name='Data do Laudo')),
                ('client_name', models.CharField(max_length=200, verbose_name='Nome do Cliente')),
                ('invoice_number', models.CharField(blank=True, max_length=50, verbose_name='Número da Nota Fiscal')),
                ('driver_name', models.CharField(blank=True, max_length=100, verbose_name='Nome do Motorista')),
                ('truck_plate', models.CharField(blank=True, max_length=20, verbose_name='Placa do Caminhão')),
                ('total_quantity', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Quantidade Total (kg)')),
                ('loading_type', models.CharField(choices=[('NATIONAL', 'Nacional'), ('EXPORT', 'Exportação')], max_length=20, verbose_name='Tipo de Carregamento')),
                ('status', models.CharField(choices=[('DRAFT', 'Rascunho'), ('APPROVED', 'Aprovado'), ('CANCELLED', 'Cancelado')], default='DRAFT', max_length=20, verbose_name='Status')),
                ('approved_at', models.DateTimeField(blank=True, null=True, verbose_name='Aprovado em')),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='approved_reports', to=settings.AUTH_USER_MODEL, verbose_name='Aprovado por')),
                ('composite_samples', models.ManyToManyField(to='quality_control.compositesample', verbose_name='Amostras Compostas')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('plant', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.plant', verbose_name='Planta')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='quality_control.product', verbose_name='Produto')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
            ],
            options={
                'verbose_name': 'Laudo de Qualidade',
                'verbose_name_plural': 'Laudos de Qualidade',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='LoadingOrder',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('order_number', models.CharField(max_length=50, unique=True, verbose_name='Número da Ordem')),
                ('status', models.CharField(choices=[('PENDING', 'Pendente'), ('IN_PROGRESS', 'Em Andamento'), ('COMPLETED', 'Concluída'), ('CANCELLED', 'Cancelada')], default='PENDING', max_length=20, verbose_name='Status')),
                ('loading_date', models.DateField(blank=True, null=True, verbose_name='Data de Carregamento')),
                ('completion_date', models.DateTimeField(blank=True, null=True, verbose_name='Data de Conclusão')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
                ('quality_report', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='quality_control.qualityreport', verbose_name='Laudo de Qualidade')),
            ],
            options={
                'verbose_name': 'Ordem de Carregamento',
                'verbose_name_plural': 'Ordens de Carregamento',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AlterUniqueTogether(
            name='compositesample',
            unique_together={('date', 'shift', 'production_line', 'product')},
        ),
        migrations.CreateModel(
            name='ProductPropertyMap',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('show_in_spot_analysis', models.BooleanField(default=True, verbose_name='Análises Pontuais')),
                ('show_in_composite_sample', models.BooleanField(default=True, verbose_name='Amostra Composta')),
                ('show_in_dashboard', models.BooleanField(default=True, verbose_name='Dashboard')),
                ('show_in_report', models.BooleanField(default=True, verbose_name='Laudo')),
                ('is_active', models.BooleanField(default=True, verbose_name='Ativo')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='quality_control.product', verbose_name='Produto')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='quality_control.property', verbose_name='Propriedade')),
            ],
            options={
                'verbose_name': 'Mapa Produto-Propriedade',
                'verbose_name_plural': 'Mapas Produto-Propriedade',
                'unique_together': {('product', 'property')},
            },
        ),
        migrations.CreateModel(
            name='CompositeSampleResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('value', models.DecimalField(decimal_places=4, max_digits=10, verbose_name='Valor')),
                ('unit', models.CharField(max_length=20, verbose_name='Unidade')),
                ('test_method', models.CharField(blank=True, max_length=100, verbose_name='Método')),
                ('composite_sample', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='quality_control.compositesample', verbose_name='Amostra Composta')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='quality_control.property', verbose_name='Propriedade')),
            ],
            options={
                'verbose_name': 'Resultado da Amostra Composta',
                'verbose_name_plural': 'Resultados das Amostras Compostas',
                'unique_together': {('composite_sample', 'property')},
            },
        ),
        migrations.CreateModel(
            name='ChemicalAnalysisResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('value', models.DecimalField(decimal_places=4, max_digits=10, verbose_name='Valor')),
                ('unit', models.CharField(max_length=20, verbose_name='Unidade')),
                ('chemical_analysis', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='quality_control.chemicalanalysis', verbose_name='Análise Química')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='quality_control.property', verbose_name='Propriedade')),
            ],
            options={
                'verbose_name': 'Resultado da Análise Química',
                'verbose_name_plural': 'Resultados das Análises Químicas',
                'unique_together': {('chemical_analysis', 'property')},
            },
        ),
        migrations.CreateModel(
            name='Specification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('lsl', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='LSL (Limite Inferior)')),
                ('target', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='Valor Alvo')),
                ('usl', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='USL (Limite Superior)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Ativo')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='quality_control.product', verbose_name='Produto')),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='quality_control.property', verbose_name='Propriedade')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
            ],
            options={
                'verbose_name': 'Especificação',
                'verbose_name_plural': 'Especificações',
                'unique_together': {('product', 'property')},
            },
        ),
        migrations.CreateModel(
            name='SpotAnalysis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('date', models.DateField(verbose_name='Data')),
                ('sequence', models.PositiveSmallIntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(3)], verbose_name='Sequência')),
                ('value', models.DecimalField(decimal_places=4, max_digits=10, verbose_name='Valor')),
                ('unit', models.CharField(max_length=20, verbose_name='Unidade')),
                ('test_method', models.CharField(blank=True, max_length=100, verbose_name='Método')),
                ('status', models.CharField(choices=[('APPROVED', 'Aprovado'), ('ALERT', 'Alerta'), ('REJECTED', 'Reprovado')], max_length=20, verbose_name='Status')),
                ('action_taken', models.TextField(blank=True, verbose_name='Ação Tomada')),
                ('sample_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Horário da Amostra')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('operator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='Operador')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='quality_control.product', verbose_name='Produto')),
                ('production_line', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.productionline', verbose_name='Linha de Produção')),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='quality_control.property', verbose_name='Propriedade')),
                ('shift', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.shift', verbose_name='Turno')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
            ],
            options={
                'verbose_name': 'Análise Pontual',
                'verbose_name_plural': 'Análises Pontuais',
                'ordering': ['-date', '-sample_time'],
                'unique_together': {('date', 'shift', 'production_line', 'product', 'property', 'sequence')},
            },
        ),
    ]
